# ChatBot

## 1. Telegram ChatBot 삭제 & 생성

### 1.1 기존에 있던 Telegram ChatBot 삭제

![1571919236723]( https://user-images.githubusercontent.com/31427258/67487013-1c39cf00-f6a8-11e9-94e3-c0c4ee035059.png )

- 삭제 확인 문장 입력할때 오타남,,, 제대로 삭제하자,,





### 1.2 ChatBot 시작

![1571919511052]( https://user-images.githubusercontent.com/31427258/67487023-2360dd00-f6a8-11e9-9ea5-752baec4bb81.png )



### 1.3 ChatBot 생성

- 제대로 생성하면 token을 준다. 앞으로 chat api에 접근할 때 써야하니 저장해놓자

![1571919687062]( https://user-images.githubusercontent.com/31427258/67487036-28be2780-f6a8-11e9-9e93-44f4b8929e07.png )



### 1.4 ChatBot 확인

- getMe 

  > 내 챗봇 정보 확인

  ```bash
  https://api.telegram.org/bot<token>/getMe
  ```

  

  - id도 나중에 필요하니 잘 저장해놓자

    ![1571920241413]( https://user-images.githubusercontent.com/31427258/67487058-32478f80-f6a8-11e9-80fd-0b89f01000c8.png )



- getUpdates 

  > 챗봇에 들어온 메세지 확인

  ```bash
  https://api.telegram.org/bot<token>/sendMessage?chat_id=[chat_id]&text=안녕
  ```

  - getMe처럼 json형태로 확인할 수 있다.





## 2. Token 숨기기

- 가상환경 실행

  ```bash
  $ source ~/venv/Scripts/activate
  ```

- python-decouple 설치

  ```bash
  $ pip install python-decouple
  ```

![1571921769316](C:\Users\student\AppData\Roaming\Typora\typora-user-images\1571921769316.png)

- .env 파일 수정

  ```bash
  $ vi.env
  
  > i(insert) 누르기 token과 id 넣기
  > esc esc 두번 누르고 
  > :wq 눌러서 저장하고 나가기
  > 사진에 있는 코드 그대로 붙여넣기
  ```

  ![1571922231895](C:\Users\student\AppData\Roaming\Typora\typora-user-images\1571922231895.png)

